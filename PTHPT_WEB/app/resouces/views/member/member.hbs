<link rel="stylesheet" href="/css/member.css">
<div class="result">

    <table>
        <thead>

            <tr>
                <th>
                    <div class="input__container">
                        <input placeholder="Nhập tên thành viên..." id="search" onkeyup="search()" type="text"
                            class="input">
                        <div class="icon">
                            <i class="fas fa-search icon__item"></i>
                        </div>
                    </div>
                    Rank
                </th>
                <th>Tên người dùng</th>
                <th>Trình độ</th>
                <th>Bài tập</th>
                <th>Kỳ thi</th>
                <th class="medalMember">Vàng <img src="/img/gold-medal.png" width="20" class="imageMedal"></th>
                <th class="medalMember">Bạc <img src="/img/silver-medal.png" width="20" class="imageMedal"></th>
                <th class="medalMember">Đồng <img src="/img/bronze-medal.png" width="20" class="imageMedal"></th>
                <th>Điểm</th>
            </tr>
        </thead>
        <tbody>
            {{#each listUser}}
            <tr class="user__list">
                <td>
                    {{this.index}}
                    <span class="round">
                        <img src="/img/{{this.avatar}}" alt="user" width="50">
                    </span>
                </td>
                <td class="username__list">
                    <h5>
                        <a style="color: {{this.color}};" href="/user/{{this._id}}">
                            {{!-- <span class="{{#condition this.role "admin"}}gradientColor
                                {{/condition}}">{{this.username}}
                            </span> --}}
                            <span style="font-weight: {{this.fontWeight}} !important;">{{this.username}}</span>
                        </a>
                    </h5>
                </td>
                <td>{{this.position}}</td>
                <td>{{this.assignment}}</td>
                <td>{{this.contest}}</td>
                <td>{{this.AmountGolden}}</td>
                <td>{{this.AmountSilver}}</td>
                <td>{{this.AmountBrozen}}</td>
                <td>{{this.score}}</td>
            </tr>
            {{/each}}
        </tbody>

    </table>
</div>
<div style="display:flex">
    <div class="pagination pagination-style-three m-t-20 m-b-40">
        {{#each paginationLoop}}
        <a href="/member/{{@index}}" class="{{#condition this ../page}}selected{{/condition}}">{{this}}</a>
        {{/each}}
    </div>
</div>
<script>
    function search() {
        var search = document.getElementById("search").value;
        var user = document.querySelectorAll(".user__list");
        var username = document.getElementsByClassName("username__list");

        for (var i = 0; i <= username.length; i++) {
            var a = user[i].getElementsByClassName("username__list")[0];
            var value = a.innerHTML || a.innerText || a.textContent;
            if (value.indexOf(search) > -1) {
                user[i].style.display = "";
            }
            else {
                user[i].style.display = "none";
            }
        }

    }
    var Open = document.getElementsByClassName("icon")[0];
    Open.addEventListener("click", () => {

        document.getElementsByClassName("input")[0].classList.toggle("open")
    })
</script>